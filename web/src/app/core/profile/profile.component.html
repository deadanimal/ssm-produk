<div class="wrapper">
	<div class="section">
		<div class="container-fluid pt-6 px-6">
			<!-- Public wrapper -->
			<div class="nav-wrapper" *ngIf="user?.user_type == 'PB'">
				<tabset type="pills" class="nav-fill flex-column flex-md-row" >
					<tab heading="My Account" [active]="accountTabActive">
						<div class="card">
							<div class="card-body">
								<h6 class="heading-small text-muted mb-4">
									User Information
								</h6>
								<div class="row">
									<div class="col-5">
										<p class="my-0">Note:</p>
										<p class="font-smaller mt-0">
											Any user information changes can be
											updated at <a href="https://www.ssm4u.com.my" target="_blank">SSM4U</a> portal.
										</p>
									</div>
								</div>

								<form>
									<div class="row">
										<div class="col">
											<div class="form-group">
												<label class="form-control-label">Name</label>
												<input class="form-control" value="Amin Redzuan" disabled>
											</div>
										</div>

										<div class="col">
											<div class="form-group">
												<label class="form-control-label">Email</label>
												<input class="form-control" value="aminredz@gmail.com" disabled>
											</div>
										</div>
									</div>

									<div class="row">
										<div class="col">
											<div class="form-group">
												<label class="form-control-label">Phone No.</label>
												<input class="form-control" value="0187246746" disabled>
											</div>
										</div>
									</div>
								</form>
								<div>
									<form [formGroup]="addressForm">
										<div class="row">
											<div class="col-sm-12 col-lg-6">
												<div class="form-group">
													<label class="form-control-label">Address line 1</label>
													<input class="form-control" formControlName="address1" disabled />
												</div>
											</div>
		
											<div class="col-sm-12 col-lg-6">
												<div class="form-group">
													<label class="form-control-label">Address line 2</label>
													<input class="form-control" formControlName="address2" disabled />
												</div>
											</div>
										</div>
		
										<div class="row">
											<div class="col-sm-12 col-lg-6">
												<div class="form-group">
													<label class="form-control-label">Address line 3</label>
													<input class="form-control" formControlName="address3" disabled />
												</div>
											</div>
		
											<div class="col-sm-12 col-lg-6">
												<div class="form-group">
													<label class="form-control-label">City</label>
													<input class="form-control" formControlName="city" disabled />
												</div>
											</div>
										</div>
		
										<div class="row">
											<div class="col-sm-12 col-lg-4">
												<div class="form-group">
													<label class="form-control-label">Postcode</label>
													<input class="form-control" formControlName="postcode" disabled />
												</div>
											</div>
		
											<div class="col-sm-12 col-lg-4">
												<div class="form-group">
													<label class="form-control-label">State</label>
													<input class="form-control" formControlName="state" disabled />
												</div>
											</div>
		
											<div class="col-sm-12 col-lg-4">
												<div class="form-group">
													<label class="form-control-label">Country</label>
													<input class="form-control" formControlName="country" disabled />
												</div>
											</div>
										</div>
									</form>
								</div>

								<hr class="my-2 w-100 text-black">

								<h6 class="heading-small text-muted mb-4" *ngIf="user?.user_type == 'EG'">
									Work Information
								</h6>
							</div>
						</div>
					</tab>

					<tab heading="My Transactions" [active]="transactionTabActive">
						<div class="card">
							<div class="card-body">
								<h6 class="heading-small text-muted mb-4">
									Transactions Information
								</h6>

								<div class="row">
									<div class="col-sm-6 col-lg-3">
										<div class="form-group">
											<label class="form-control-label">Start date</label>
											<div class="input-group mb-4">
												<div class="input-group-prepend">
													<span class="input-group-text">
														<i class="fas fa-calendar-alt"> </i>
													</span>
												</div>
												<input class="form-control" type="date" />
											</div>
										</div>
									</div>

									<div class="col-sm-6 col-lg-3">
										<div class="form-group">
											<label class="form-control-label">End date</label>
											<div class="input-group mb-4">
												<div class="input-group-prepend">
													<span class="input-group-text">
														<i class="far fa-calendar-alt"> </i>
													</span>
												</div>
												<input class="form-control" type="date" />
											</div>
										</div>
									</div>

									<div class="col-sm-6 col-lg-3">
										<div class="form-group">
											<label class="form-control-label">Receipt No.</label>
											<input class="form-control"/>
										</div>
									</div>
								</div>

								<div class="dataTables_wrapper py-4">
									<ngx-datatable 
										class="bootstrap selection-cell"
										[columnMode]="'force'"
										[headerHeight]="50"
										[footerHeight]="50"
										[rowHeight]="'auto'"
										[limit]="tableEntries != -1 ? tableEntries : undefined" 
										[rows]="tableTemp"
										(activate)="onActivate($event)"
									>
		
										<ngx-datatable-column
											[sortable]="true"
											prop="invoice_no"
										>
											<ng-template ngx-datatable-header-template>
												<span class="table-header">Receipt No.</span>
											</ng-template>
											<ng-template let-row="row" ngx-datatable-cell-template>
												{{row.invoice_no}}
											</ng-template>
										</ngx-datatable-column>
		
										<ngx-datatable-column
											[sortable]="true"
											prop="payment_gateway_update_date"
										>
											<ng-template ngx-datatable-header-template>
												<span class="table-header">Date</span>
											</ng-template>
											<ng-template let-row="row" ngx-datatable-cell-template>
												{{ row.payment_gateway_update_date }}
											</ng-template>
										</ngx-datatable-column>
		
										<ngx-datatable-column
											[sortable]="false"
										>
											<ng-template ngx-datatable-header-template>
												<span class="table-header">Transaction Type</span>
											</ng-template>
											<ng-template let-row="row" ngx-datatable-cell-template>
												Online
											</ng-template>
										</ngx-datatable-column>
										
										<ngx-datatable-column
											[sortable]="false"
										>
											<ng-template ngx-datatable-header-template>
												<span class="table-header">Method</span>
											</ng-template>
											<ng-template let-row="row" ngx-datatable-cell-template>
												Credit Card
											</ng-template>
										</ngx-datatable-column>
		
										<ngx-datatable-column
											[sortable]="true"
											prop="reference_no"
										>
											<ng-template ngx-datatable-header-template>
												<span class="table-header">Reference</span>
											</ng-template>
											<ng-template let-row="row" ngx-datatable-cell-template>
												{{row.reference_no_new}}
											</ng-template>
										</ngx-datatable-column>
										
										<ngx-datatable-column
											[sortable]="true"
											prop="total_amount"
										>
											<ng-template ngx-datatable-header-template>
												<span class="table-header">Total Price</span>
											</ng-template>
											<ng-template let-row="row" ngx-datatable-cell-template>
												RM{{row.total_amount/100 | number : '1.2-2'}}
											</ng-template>
										</ngx-datatable-column>
		
										<ngx-datatable-column>
											<ng-template ngx-datatable-header-template>
												<span class="table-header">Receipt</span>
											</ng-template>
											<ng-template let-row="row" ngx-datatable-cell-template>
												<a 
													class="nav-link nav-link-icon cursor-pointer"
													(click)="downloadRecipt(row)"
												>
													<i 
														class="fas fa-file-download text-info"
														placement="top" 
														tooltip="Download receipt"
													> 
													</i>
												</a>
											</ng-template>
										</ngx-datatable-column>
									</ngx-datatable>
								</div>
							</div>
						</div>
					</tab>

					<tab heading="My Orders" [active]="orderTabActive">
						<div class="card">
							<div class="card-body">
								<h6 class="heading-small text-muted mb-4">My orders</h6>
								<p class="my-0">Disclaimer:</p>
								<ol>
									<li class="font-smaller">
										Every successful purchase will be kept in order menu for 7
										day(s) from the date purchased. Please download your
										document accordingly.
									</li>
									<li class="font-smaller">
										If customer are unable to download product purchased within
										7 day(s). Please contact SSM Enquiry.
									</li>
								</ol>

								<div class="dataTables_wrapper py-4">
									<ngx-datatable 
										class="bootstrap selection-cell"
										[columnMode]="'force'"
										[headerHeight]="50"
										[footerHeight]="50"
										[rowHeight]="'auto'"
										[limit]="tableOrderEntries != -1 ? tableOrderEntries : undefined" 
										[rows]="tableOrderTemp"
										(activate)="onActivate($event)"
									>
										<ngx-datatable-column
											maxWidth="70"
											[sortable]="true"
											prop="id_index"
											[resizeable]="false"
										>
											<ng-template ngx-datatable-header-template>
												<span class="table-header">No.</span>
											</ng-template>
											<ng-template let-row="row" ngx-datatable-cell-template>
												{{row.id_index}}
											</ng-template>
										</ngx-datatable-column>

										<ngx-datatable-column>
											<ng-template ngx-datatable-header-template>
												<span class="table-header">Order No.</span>
											</ng-template>
											<ng-template let-row="row" ngx-datatable-cell-template>
												<!-- {{row.product?.name}} -->
												SSM2020100124442
											</ng-template>
										</ngx-datatable-column>
		
										<ngx-datatable-column
											[sortable]="true"
											prop="created_date"
										>
											<ng-template ngx-datatable-header-template>
												<span class="table-header">Datetime</span>
											</ng-template>
											<ng-template let-row="row" ngx-datatable-cell-template>
												{{ row.created_date }}
											</ng-template>
										</ngx-datatable-column>

										<ngx-datatable-column
											[sortable]="false"
										>
											<ng-template ngx-datatable-header-template>
												<span class="table-header">Product</span>
											</ng-template>
											<ng-template let-row="row" ngx-datatable-cell-template>
												{{row.product?.name}}
												<span *ngIf="row.service_request">
													{{row.service_request?.service.name}}
												</span>
												<span *ngIf="row.product_search_criteria">
													Customized Data
												</span>
												<span *ngIf="row.quota?.quota_type == '0A'">
													Customized Data Quota
												</span>
											</ng-template>
										</ngx-datatable-column>
		
										<ngx-datatable-column
											[sortable]="false"
										>
											<ng-template ngx-datatable-header-template>
												<span class="table-header">Search Criteria</span>
											</ng-template>
											<ng-template let-row="row" ngx-datatable-cell-template>
												{{row.entity?.name}}
												<span *ngIf="service_request?.service.service_type =='CB'">
													-
												</span>
												<div *ngIf="row.product_search_criteria">
													<a (click)="openModal(criteria, row)">Search criteria</a>
												</div>
												<span *ngIf="row.quota">
													-
												</span>
												<span *ngIf="row.service_request">
													-
												</span>
											</ng-template>
										</ngx-datatable-column>
										
										<ngx-datatable-column
											[sortable]="true"
											prop="language"
										>
											<ng-template ngx-datatable-header-template>
												<span class="table-header">Language</span>
											</ng-template>
											<ng-template let-row="row" ngx-datatable-cell-template>
												<div *ngIf="row.product">
													<span *ngIf="row.product.language == 'MS'">BM</span>
													<span *ngIf="row.product.language == 'EN'">EN</span>
													<span *ngIf="row.product.output_type == 'IM'">-</span>
												</div>
												<div *ngIf="!row.product">
													-
												</div>
											</ng-template>
										</ngx-datatable-column>

										<ngx-datatable-column
											[sortable]="false"
										>
											<ng-template ngx-datatable-header-template>
												<span class="table-header">Status</span>
											</ng-template>
											<ng-template let-row="row" ngx-datatable-cell-template>
												<span class="badge badge-success">Success</span>
											</ng-template>
										</ngx-datatable-column>
										
										<ngx-datatable-column>
											<ng-template ngx-datatable-header-template>
												<span class="table-header">Action</span>
											</ng-template>
											<ng-template let-row="row" ngx-datatable-cell-template>
												<button 
													class="btn btn-ssm btn-sm" 
													(click)="initRequest(row)"
													*ngIf="!row.service_request || row.quota"
												>
													Download
												</button>
											</ng-template>
										</ngx-datatable-column>
									</ngx-datatable>
								</div>
							</div>
						</div>
					</tab>
				</tabset>
			</div>

			<!-- eGov wrapper -->
			<div class="nav-wrapper" *ngIf="user?.user_type == 'EG'">
				<tabset type="pills" class="nav-fill flex-column flex-md-row" >
					<tab heading="My Account">
						<div class="card">
							<div class="card-body">
								<h6 class="heading-small text-muted mb-4">
									User Information
								</h6>
								<div class="row">
									<div class="col-5">
										<p class="my-0">Note:</p>
										<p class="font-smaller mt-0">
											Any user information changes can be
											updated at <a href="https://www.ssm4u.com.my" target="_blank">SSM4U</a> portal.
										</p>
									</div>

									<div class="col-7 text-right" *ngIf="user?.user_type == 'EG'">
										<button class="btn btn-ssm rounded-pill btn-sm mr-1" (click)="openModalEgov(renewAccount)">Renew Account</button>
										<button class="btn btn-ssm rounded-pill btn-sm mr-1" disabled>Request Quota</button>
									</div>
								</div>

								<form>
									<div class="row">
										<div class="col">
											<div class="form-group">
												<label class="form-control-label">Name</label>
												<input class="form-control" value="Amin Redzuan" disabled>
											</div>
										</div>

										<div class="col">
											<div class="form-group">
												<label class="form-control-label">Email</label>
												<input class="form-control" value="aminredz@gmail.com" disabled>
											</div>
										</div>
									</div>

									<div class="row">
										<div class="col">
											<div class="form-group">
												<label class="form-control-label">Phone No.</label>
												<input class="form-control" value="0187246746" disabled>
											</div>
										</div>
									</div>
								</form>
								<div>
									<form [formGroup]="addressForm">
										<div class="row">
											<div class="col-sm-12 col-lg-6">
												<div class="form-group">
													<label class="form-control-label">Address line 1</label>
													<input class="form-control" formControlName="address1" disabled />
												</div>
											</div>
		
											<div class="col-sm-12 col-lg-6">
												<div class="form-group">
													<label class="form-control-label">Address line 2</label>
													<input class="form-control" formControlName="address2" disabled />
												</div>
											</div>
										</div>
		
										<div class="row">
											<div class="col-sm-12 col-lg-6">
												<div class="form-group">
													<label class="form-control-label">Address line 3</label>
													<input class="form-control" formControlName="address3" disabled />
												</div>
											</div>
		
											<div class="col-sm-12 col-lg-6">
												<div class="form-group">
													<label class="form-control-label">City</label>
													<input class="form-control" formControlName="city" disabled />
												</div>
											</div>
										</div>
		
										<div class="row">
											<div class="col-sm-12 col-lg-4">
												<div class="form-group">
													<label class="form-control-label">Postcode</label>
													<input class="form-control" formControlName="postcode" disabled />
												</div>
											</div>
		
											<div class="col-sm-12 col-lg-4">
												<div class="form-group">
													<label class="form-control-label">State</label>
													<input class="form-control" formControlName="state" disabled />
												</div>
											</div>
		
											<div class="col-sm-12 col-lg-4">
												<div class="form-group">
													<label class="form-control-label">Country</label>
													<input class="form-control" formControlName="country" disabled />
												</div>
											</div>
										</div>
									</form>
								</div>

								<hr class="my-2 w-100 text-black">

								<h6 class="heading-small text-muted mb-4" *ngIf="user?.user_type == 'EG'">
									Work Information
								</h6>

								<div *ngIf="user?.user_type == 'EG'">
									<form>
										<div class="row">
											<div class="col">
												<div class="form-group">
													<label class="form-control-label">Head of Department Name</label>
													<input class="form-control" placeholder="">
												</div>
											</div>
	
											<div class="col">
												<div class="form-group">
													<label class="form-control-label">Head of Department Position</label>
													<input class="form-control" placeholder="">
												</div>
											</div>
										</div>
	
										<div class="row">
											<div class="col">
												<div class="form-group">
													<label class="form-control-label">Head of Department Email</label>
													<input class="form-control" placeholder="">
												</div>
											</div>
	
											<div class="col">
												<div class="form-group">
													<label class="form-control-label">Ministry Name</label>
													<input class="form-control" placeholder="">
												</div>
											</div>
										</div>
	
										<div class="row">
											<div class="col">
												<div class="form-group">
													<label class="form-control-label">Department / Agency Name</label>
													<input class="form-control" placeholder="">
												</div>
											</div>
	
											<div class="col">
												<div class="form-group">
													<label class="form-control-label">Division / Section / Unit Name</label>
													<input class="form-control" placeholder="">
												</div>
											</div>
										</div>
	
										<div class="row">
											<div class="col-sm-12 col-lg-6">
												<div class="form-group">
													<label class="form-control-label">Address line 1</label>
													<input class="form-control"/>
												</div>
											</div>
		
											<div class="col-sm-12 col-lg-6">
												<div class="form-group">
													<label class="form-control-label">Address line 2</label>
													<input class="form-control"/>
												</div>
											</div>
										</div>
		
										<div class="row">
											<div class="col-sm-12 col-lg-6">
												<div class="form-group">
													<label class="form-control-label">Address line 3</label>
													<input class="form-control"/>
												</div>
											</div>
		
											<div class="col-sm-12 col-lg-6">
												<div class="form-group">
													<label class="form-control-label">City</label>
													<input class="form-control"/>
												</div>
											</div>
										</div>
		
										<div class="row">
											<div class="col-sm-12 col-lg-4">
												<div class="form-group">
													<label class="form-control-label">Postcode</label>
													<input class="form-control"/>
												</div>
											</div>
		
											<div class="col-sm-12 col-lg-4">
												<div class="form-group">
													<label class="form-control-label">State</label>
													<input class="form-control"/>
												</div>
											</div>
		
											<div class="col-sm-12 col-lg-4">
												<div class="form-group">
													<label class="form-control-label">Country</label>
													<input class="form-control"/>
												</div>
											</div>
										</div>
									</form>
								</div>
							</div>
						</div>
					</tab>

					<tab heading="Request Investigation Document" [active]="requestTabActive">
						<div class="card">
							<div class="card-body">
								<div *ngIf="!isShowEgovForm && requestToAdd.length == 0">
									<h6 class="heading-small text-muted mb-4">
										Request Investigation Document
									</h6>
									<div class="row">
										<div class="col-5">
											<p class="my-0">Note:</p>
											<p class="font-smaller mt-0">
												Every application is subjected to SSM approval.
											</p>
										</div>
									</div>

									<div class="dataTables_wrapper py-4">
										<ngx-datatable 
											class="bootstrap selection-cell"
											[columnMode]="'force'"
											[headerHeight]="50"
											[footerHeight]="50"
											[rowHeight]="'auto'"
											[limit]="tableInvestigationEntries != -1 ? tableInvestigationEntries : undefined" 
											[rows]="tableInvestigationTemp"
											(activate)="onActivate($event)"
										>
											<ngx-datatable-column
												maxWidth="70"
												[sortable]="true"
												prop="id_index"
												[resizeable]="false"
											>
												<ng-template ngx-datatable-header-template>
													<span>No.</span>
												</ng-template>
												<ng-template let-row="row" ngx-datatable-cell-template>
													{{row.id_index}}
												</ng-template>
											</ngx-datatable-column>

											<ngx-datatable-column
												[sortable]="false"
												[resizeable]="false"
												prop="reference_no"
											>
												<ng-template ngx-datatable-header-template>
													<span>Reference No.</span>
												</ng-template>
												<ng-template let-row="row" ngx-datatable-cell-template>
													{{row.reference_no}}
												</ng-template>
											</ngx-datatable-column>
			
											<ngx-datatable-column
												[sortable]="false"
												[resizeable]="false"
												prop="application_date"
											>
												<ng-template ngx-datatable-header-template>
													<span>Application Date</span>
												</ng-template>
												<ng-template let-row="row" ngx-datatable-cell-template>
													{{row.application_date}}
												</ng-template>
											</ngx-datatable-column>

											<ngx-datatable-column
												[sortable]="false"
												[resizeable]="false"
												prop="officer_name"
											>
												<ng-template ngx-datatable-header-template>
													<span>Officer</span>
												</ng-template>
												<ng-template let-row="row" ngx-datatable-cell-template>
													{{row.officer_name}}
												</ng-template>
											</ngx-datatable-column>
			
											<ngx-datatable-column
												[sortable]="false"
												[resizeable]="false"
												prop="modified_date"
											>
												<ng-template ngx-datatable-header-template>
													<span>Updated Status Date</span>
												</ng-template>
												<ng-template let-row="row" ngx-datatable-cell-template>
													{{row.modified_date_}}
												</ng-template>
											</ngx-datatable-column>

											<ngx-datatable-column
												[sortable]="false"
												[resizeable]="false"
											>
												<ng-template ngx-datatable-header-template>
													<span>Status</span>
												</ng-template>
												<ng-template let-row="row" ngx-datatable-cell-template>
													<span class="badge badge-warning">Pending</span>
												</ng-template>
											</ngx-datatable-column>
											
											<ngx-datatable-column
												[sortable]="false"
												[resizeable]="false"
											>
												<ng-template ngx-datatable-header-template>
													<span>Action</span>
												</ng-template>
												<ng-template let-row="row" ngx-datatable-cell-template>
													<button 
														class="btn btn-ssm btn-sm" 
													>
														View application
													</button>
												</ng-template>
											</ngx-datatable-column>
										</ngx-datatable>
									</div>
								</div>

								<div *ngIf="isShowEgovForm || requestToAdd.length >= 1">
									<h6 class="heading-small text-muted mb-4">
										New Request Investigation Document
									</h6>
									<div class="row">
										<div class="col-5">
											<p class="my-0">Note:</p>
											<p class="font-smaller mt-0">
												Every application is subjected to SSM approval.
											</p>
										</div>
									</div>

									<div class="row">
										<div class="col">
											<div class="form-group">
												<label class="form-control-label">Email</label>
												<input class="form-control" value="amin@gov.my" disabled>
											</div>
										</div>
	
										<div class="col">
											<div class="form-group">
												<label class="form-control-label">Full Name</label>
												<input class="form-control" value="Amin Redzuan" disabled>
											</div>
										</div>
									</div>
	
									<hr class="my-2 w-100 text-black">
	
									<h6 class="heading-small text-muted mb-4">
										Investigation Information
									</h6>
	
									<div>
										<form [formGroup]="requestInvestigationForm">
											<div class="row">
												<div class="col">
													<div class="form-group">
														<label class="form-control-label">Officer Name
															<span class="text-red">*</span>
														</label>
														<input class="form-control" formControlName="officer_name">
													</div>
												</div>
		
												<div class="col">
													<div class="form-group">
														<label class="form-control-label">Designation 
															<span class="text-red">*</span>
														</label>
														<input class="form-control" formControlName="designation">
													</div>
												</div>
											</div>
		
											<div class="row">
												<div class="col">
													<div class="form-group">
														<label class="form-control-label">Department 
															<span class="text-red">*</span>
														</label>
														<input class="form-control" formControlName="department">
													</div>
												</div>
		
												<div class="col">
													<div class="form-group">
														<label class="form-control-label">Mobile No.
															<span class="text-red">*</span>
														</label>
														<input class="form-control" formControlName="mobile_no">
													</div>
												</div>
											</div>
		
											<div class="row">
												<div class="col">
													<div class="form-group">
														<label class="form-control-label">NRIC No. / Officer Authority Card
															<span class="text-red">*</span>
														</label>
														<input class="form-control" formControlName="nric_officer_authority">
													</div>
												</div>
		
												<div class="col">
													<div class="form-group">
														<label class="form-control-label">Official Email Address
															<span class="text-red">*</span>
														</label>
														<input class="form-control" formControlName="official_email">
													</div>
												</div>
											</div>
		
											<div class="row">
												<div class="col-sm-12 col-lg-6">
													<div class="form-group">
														<label class="form-control-label">Reference Letter No.
															<span class="text-red">*</span>
														</label>
														<input class="form-control" formControlName="reference_letter_no" />
													</div>
												</div>
			
												<div class="col-sm-12 col-lg-6">
													<div class="form-group">
														<label class="form-control-label">IP No.
															<span class="text-red">*</span>
														</label>
														<input class="form-control" formControlName="ip_no" />
													</div>
												</div>
											</div>
			
											<div class="row">
												<div class="col-sm-12 col-lg-6">
													<div class="form-group">
														<label class="form-control-label">Court Case No.
															<span class="text-red">*</span>
														</label>
														<input class="form-control" formControlName="court_case_no" />
													</div>
												</div>
											</div>
			
											<div class="row">
												<div class="col-sm-12 col-lg-6">
													<div class="form-group">
														<label class="form-control-label">Attachment (Official Letter of Company Information Request)
															<span class="text-red">*</span>
														</label>
														<input class="form-control"/>
													</div>
												</div>
			
												<div class="col-sm-12 col-lg-6">
													<div class="form-group">
														<label class="form-control-label">Attachment (Official Letter from eGovernment)
															<span class="text-red">*</span>
														</label>
														<input class="form-control"/>
													</div>
												</div>
											</div>
	
											<div class="form-group">
												<label class="form-control-label">Offence (Please quote the relevent section)
													<span class="text-red">*</span>
												</label>
												<textarea class="form-control" formControlName="offence"></textarea>
											</div>
	
											<div class="form-group">
												<label class="form-control-label">Select search</label>
												<div class="custom-control custom-radio mb-3">
													<input type="radio" id="radioRequest" name="customRadio" class="custom-control-input">
													<label class="custom-control-label" for="radioRequest">Document</label>
												</div>
											</div>
	
											<div>
												<button
													class="btn btn-ssm rounded-pill"
													(click)="navigatePage('/products/search-egov')"
												>
													Add Document
												</button>
											</div>
										</form>

										<div *ngIf="requestToAdd.length >= 1">
											<span class="text-center">
												<h3 class="py-2">Document Request</h3>
											</span>
					
											<ngx-datatable 
												class="bootstrap selection-cell"
												[columnMode]="'force'"
												[headerHeight]="50"
												[footerHeight]="50"
												[rowHeight]="'auto'"
												[limit]="tableRequestToAddEntries != -1 ? tableRequestToAddEntries : undefined" 
												[rows]="tableRequestToAddTemp"
												(activate)="onActivate($event)"
											>
												<ngx-datatable-column
													[sortable]="false"
													[resizeable]="false"
												>
													<ng-template ngx-datatable-header-template>
														<span>Entity No.</span>
													</ng-template>
													<ng-template let-row="row" ngx-datatable-cell-template>
														{{row.companyNo}}
													</ng-template>
												</ngx-datatable-column>
					
												<ngx-datatable-column
													[sortable]="false"
													[resizeable]="false"
												>
													<ng-template ngx-datatable-header-template>
														<span>Entity Name</span>
													</ng-template>
													<ng-template let-row="row" ngx-datatable-cell-template>
														<div>
															{{row.companyName}}
														</div>
													</ng-template>
												</ngx-datatable-column>

												<ngx-datatable-column
													[sortable]="false"
													[resizeable]="false"
												>
													<ng-template ngx-datatable-header-template>
														<span>Document Type</span>
													</ng-template>
													<ng-template let-row="row" ngx-datatable-cell-template>
														<div>
															{{row.formType}}
														</div>
													</ng-template>
												</ngx-datatable-column>

												<ngx-datatable-column
													[sortable]="false"
													[resizeable]="false"
												>
													<ng-template ngx-datatable-header-template>
														<span>Document Name</span>
													</ng-template>
													<ng-template let-row="row" ngx-datatable-cell-template>
														<div>
															{{row.formName}}
														</div>
													</ng-template>
												</ngx-datatable-column>
					
												<ngx-datatable-column 
													[sortable]="false"
													[resizeable]="false"
												>
													<ng-template ngx-datatable-header-template>
														<span class="table-header"></span>
													</ng-template>
													<ng-template let-row="row" ngx-datatable-cell-template>
														<a 
															class="nav-link nav-link-icon cursor-pointer"
															(click)="removeInvestigationRequest(row)"
														>
															<i 
																class="fas fa-trash-alt text-danger"
																placement="top" 
																tooltip="Remove"
															> 
															</i>
														</a>
													</ng-template>
												</ngx-datatable-column>
											</ngx-datatable>
					
											<div class="text-right py-3">
												<button class="btn btn-ssm btn-icon btn-round" (click)="submitRequest()">
													<span class="btn-inner--text"> Submit </span>
												</button>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</tab>

					<tab heading="My Request">
						<div class="card">
							<div class="card-body">
								<div class="row">
									<div class="col">
										<p class="my-0">Notes:</p>
										<ol class="font-weight-300">
											<li>Every successful application will be kept in My Request menu for 7 day (s) from the approval date. Please download your document accordingly.</li>
											<li>If customer are unable to download requested document within 7 days, please contact <a href="https://www.ssm4u.com.my" target="_blank">SSM Enquiry</a>.</li>
										</ol>
									</div>
								</div>

								<div class="dataTables_wrapper py-4">
									<ngx-datatable 
										class="bootstrap selection-cell"
										[columnMode]="'force'"
										[headerHeight]="50"
										[footerHeight]="50"
										[rowHeight]="'auto'"
										[limit]="tableRequestEntries != -1 ? tableRequestEntries : undefined" 
										[rows]="tableRequestTemp"
										(activate)="onActivate($event)"
									>
										<ngx-datatable-column
											maxWidth="70"
											[sortable]="true"
											prop="id_index"
											[resizeable]="false"
										>
											<ng-template ngx-datatable-header-template>
												<span class="table-header">No.</span>
											</ng-template>
											<ng-template let-row="row" ngx-datatable-cell-template>

											</ng-template>
										</ngx-datatable-column>

										<ngx-datatable-column>
											<ng-template ngx-datatable-header-template>
												<span class="table-header">Approved Date & Time</span>
											</ng-template>
											<ng-template let-row="row" ngx-datatable-cell-template>

											</ng-template>
										</ngx-datatable-column>
		
										<ngx-datatable-column>
											<ng-template ngx-datatable-header-template>
												<span class="table-header">Entity Name / Product Detail</span>
											</ng-template>
											<ng-template let-row="row" ngx-datatable-cell-template>

											</ng-template>
										</ngx-datatable-column>

										<ngx-datatable-column>
											<ng-template ngx-datatable-header-template>
												<span class="table-header">Product Description</span>
											</ng-template>
											<ng-template let-row="row" ngx-datatable-cell-template>

											</ng-template>
										</ngx-datatable-column>
		
										<ngx-datatable-column>
											<ng-template ngx-datatable-header-template>
												<span class="table-header">Language</span>
											</ng-template>
											<ng-template let-row="row" ngx-datatable-cell-template>
												
											</ng-template>
										</ngx-datatable-column>

										<ngx-datatable-column>
											<ng-template ngx-datatable-header-template>
												<span class="table-header">Status</span>
											</ng-template>
											<ng-template let-row="row" ngx-datatable-cell-template>
												<span class="badge badge-warning">Pending</span>
											</ng-template>
										</ngx-datatable-column>

										<ngx-datatable-column>
											<ng-template ngx-datatable-header-template>
												<span class="table-header">Document Output</span>
											</ng-template>
											<ng-template let-row="row" ngx-datatable-cell-template>
												
											</ng-template>
										</ngx-datatable-column>
										
										<ngx-datatable-column>
											<ng-template ngx-datatable-header-template>
												<span class="table-header">Action</span>
											</ng-template>
											<ng-template let-row="row" ngx-datatable-cell-template>
												<button 
													class="btn btn-ssm btn-sm" 
													(click)="initRequest(row)"
													*ngIf="!row.service_request || row.quota"
												>
													Buy again
												</button>
											</ng-template>
										</ngx-datatable-column>
									</ngx-datatable>
								</div>
							</div>
						</div>
					</tab>
				</tabset>
			</div>
		</div>
	</div>
</div>

<ng-template #transactionDetail>
	<div class="modal-header bg-ssm">
		<h4 class="modal-title text-white my-auto" id="modal-title-default">
			Transaction detail
		</h4>

		<button aria-label="Close" class="close" data-dismiss="modal" type="button" (click)="closeTransactionDetail()">
			<span aria-hidden="true" class="text-white my-auto"> × </span>
		</button>
	</div>

	<div class="modal-body">
		<div class="table-responsive">
			<table class="table align-items-center table-flush">
				<thead class="thead-light">
					<tr>
						<th>Order Number</th>
						<th>Product Description</th>
						<th>Entity Name</th>
						<th>Language</th>
						<th>Status</th>
						<th>Price</th>
						<th>Service Fee</th>
						<th>CTC Service Fee</th>
						<th>Discount</th>
						<th>Total</th>
						<th>Buy Again?</th>
					</tr>
				</thead>
				<tbody class="list">
					<tr>
						<td>SSMA2020082500001</td>
						<td>Certificates of Incorporation / Registration</td>
						<td>197201000557 (1211-D) / Yong Peng Batu Pahat Sdn. Bhd.</td>
						<td><span class="badge badge-primary">EN</span></td>
						<td><span class="badge badge-success">Success</span></td>
						<td>RM20.00</td>
						<td>RM0.00</td>
						<td>RM0.00</td>
						<td>RM0.00</td>
						<td>RM25.00</td>
						<td>
							<button class="btn btn-ssm btn-sm">Add to cart</button>
						</td>
					</tr>
				</tbody>
			</table>
		</div>

		<div class="float-right text-right">
			<p class="mb-0">Total document: 1</p>
			<p class="m-0">Total (excluded SST): RM25.00</p>
			<p class="m-0">SST @ 6% for Service Fee: RM0.00</p>
			<p class="mt-0">Total amount: RM25.00</p>
		</div>
	</div>

	<div class="modal-footer">
		<button class="btn btn-outline-danger ml-auto" data-dismiss="modal" type="button"
			(click)="closeTransactionDetail()">
			Close
		</button>
	</div>
</ng-template>

<ng-template #renewAccount class="mt-7">
	<div class="modal-header bg-ssm">
		<h4 class="modal-title text-white my-auto" id="modal-title-default">
			Renew Account
		</h4>

		<button aria-label="Close" class="close" data-dismiss="modal" type="button" (click)="closeModal()">
			<span aria-hidden="true" class="text-white my-auto"> × </span>
		</button>
	</div>

	<div class="modal-body">
		<h6 class="heading-small text-muted mb-4">User information</h6>
		<form>
			<div class="row">
				<div class="col-sm-12 col-lg-6">
					<div class="form-group">
						<label class="form-control-label">Name</label>
						<input class="form-control" placeholder="Enter name" />
					</div>
				</div>

				<div class="col-sm-12 col-lg-6">
					<div class="form-group">
						<label class="form-control-label">Email address</label>
						<input class="form-control" placeholder="Enter email address"/>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-sm-12 col-lg-6">
					<div class="form-group">
						<label class="form-control-label">IC. No.</label>
						<input class="form-control" placeholder="Enter name"/>
					</div>
				</div>

				<div class="col-sm-12 col-lg-6">
					<div class="form-group">
						<label class="form-control-label">Position & Grade</label>
						<input class="form-control" placeholder="Enter email address"/>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-sm-12 col-lg-6">
					<div class="form-group">
						<label class="form-control-label">Tel Number</label>
						<input class="form-control" placeholder="Enter Tel Number" />
					</div>
				</div>
				<div class="col-sm-12 col-lg-6">
					<div class="form-group">
						<label class="form-control-label">Package Type</label>
						<input class="form-control" placeholder="Enter username"/>
					</div>
				</div>
			</div>
		</form>

		<hr class="my-4" />

		<h6 class="heading-small text-muted mb-4">Work Information</h6>

		<div class="row">
			<div class="col-sm-12 col-lg-6">
				<div class="form-group">
					<label class="form-control-label">Head Of Department Name</label>
					<input class="form-control" placeholder="Enter Head Of Department Name" value="Admin3" />
				</div>
			</div>

			<div class="col-sm-12 col-lg-6">
				<div class="form-group">
					<label class="form-control-label">Head Of Department Position</label>
					<input class="form-control" placeholder="Enter Head Of Department Position" />
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col-sm-12 col-lg-6">
				<div class="form-group">
					<label class="form-control-label">Head Of Department Email</label>
					<input class="form-control" placeholder="Enter Head Of Department Email" />
				</div>
			</div>

			<div class="col-sm-12 col-lg-6">
				<div class="form-group">
					<label class="form-control-label">Ministry Name</label>
					<input class="form-control" placeholder="Enter Ministry Name" />
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col-sm-12 col-lg-6">
				<div class="form-group">
					<label class="form-control-label">Department / Agency Name</label>
					<input class="form-control" placeholder="Enter Department / Agency Name" />
				</div>
			</div>

			<div class="col-sm-12 col-lg-6">
				<div class="form-group">
					<label class="form-control-label">Division / Section / Unit Name</label>
					<input class="form-control" placeholder="Enter Division / Section / Unit Name" />
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col-sm-12 col-lg-12">
				<div class="form-group">
					<label class="form-control-label">Address 1</label>
					<textarea class="form-control" placeholder="Enter Address 1"></textarea>
				</div>
			</div>
			<div class="col-sm-12 col-lg-12">
				<div class="form-group">
					<label class="form-control-label">Address 2</label>
					<textarea class="form-control" placeholder="Enter Address 2"></textarea>
				</div>
			</div>
			<div class="col-sm-12 col-lg-12">
				<div class="form-group">
					<label class="form-control-label">Address 3</label>
					<textarea class="form-control" placeholder="Enter Address 3"></textarea>
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col-sm-12 col-lg-6">
				<div class="form-group">
					<label class="form-control-label">Postcode</label>
					<input class="form-control" placeholder="Enter Postcode" />
				</div>
			</div>
			<div class="col-sm-12 col-lg-6">
				<div class="form-group">
					<label class="form-control-label">City</label>
					<input class="form-control" placeholder="Enter City" />
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col-sm-12 col-lg-6">
				<div class="form-group">
					<label class="form-control-label">State</label>
					<input class="form-control" placeholder="Enter State" />
				</div>
			</div>
			<div class="col-sm-12 col-lg-6">
				<div class="form-group">
					<label class="form-control-label">
						Attachment Official Letter from KJAKP
					</label>
					<div class="input-group mb-4">
						<div class="input-group-prepend">
							<span class="input-group-text">
								<i class="fas fa-file-invoice"> </i>
							</span>
						</div>
						<input class="form-control" type="file" />
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="modal-footer">
		<btn class="btn bg-ssm" (click)="changeUserInfo()"><span style="color: white"> Save</span></btn>
		<button class="btn btn-outline-danger ml-auto" data-dismiss="modal" type="button" (click)="closeModal()">
			Close
		</button>
	</div>
</ng-template>

<ng-template #requestQuota>
	<div class="modal-header bg-ssm">
		<h4 class="modal-title text-white my-auto" id="modal-title-default">
			Request Quota
		</h4>

		<button aria-label="Close" class="close" data-dismiss="modal" type="button" (click)="closeModal()">
			<span aria-hidden="true" class="text-white my-auto"> × </span>
		</button>
	</div>

	<div class="modal-body">
		<div class="row">
			<div class="col-sm-12 col-lg-6">
				<div class="form-group">
					<label class="form-control-label">Fullname</label>
					<input class="form-control" placeholder="Enter Fullname" value="userFullname" />
				</div>
			</div>

			<div class="col-sm-12 col-lg-6">
				<div class="form-group">
					<label class="form-control-label">NRIC Number</label>
					<input class="form-control" placeholder="Enter User Id" value="userNric" />
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col-sm-12 col-lg-6">
				<div class="form-group">
					<label class="form-control-label">Head Of Department</label>
					<input class="form-control" placeholder="Enter Head Of Department" value="UserHOD" />
				</div>
			</div>

			<div class="col-sm-12 col-lg-6">
				<div class="form-group">
					<label class="form-control-label">Attachment (Official Letter From KJAKP)</label>
					<input class="form-control" type="file"
						placeholder="Enter Attachment (Official Letter From KJAKP)" />
				</div>
			</div>
		</div>
	</div>

	<div class="modal-footer text-right">
		<button class="btn bg-ssm" (click)="addNewRequestQuota()">
			<span class="text-white">Submit</span>
		</button>
		<button class="btn btn-outline-danger ml-auto" data-dismiss="modal" type="button" (click)="closeModal()">
			Close
		</button>
	</div>
</ng-template>

<ngx-spinner bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#fff" type="ball-fussion" [fullScreen]="true">
	<p style="color: white">Loading...</p>
</ngx-spinner>


<div *ngIf="isReceipt" class="table-responsive" #receipt>
	<table class="table text-right table-flush">
		<thead class="bg-default">
			<tr>
				<th class="text-center text-white" scope="col">
					No.
				</th>
				<th class="text-center text-white" scope="col">
					Item
				</th>
				<th class="text-center text-white" scope="col">
					Product
				</th>
				<th class="text-center text-white" scope="col">
					Unit
				</th>
				<th class="text-center text-white" scope="col">
					Unit Price (RM)
				</th>
				<th class="text-center text-white" scope="col">
					Total (RM)
				</th>
			</tr>
		</thead>
		<tbody class="list">
			<tr *ngFor="let item of items">
				<td class="text-left">
					<span>{{item?.index}}</span>
				</td>
				<td class="text-left">
					
					<div *ngIf="item?.entity">
						<span *ngIf="item?.entity == 'CP'">
							{{item?.entity.company_number_new}} 
							({{item?.entity.company_number}}-{{item?.entity.check_digit}}) / 
						</span>

						<span *ngIf="item?.entity == 'BS'">
							{{item?.entity.registration_number_new}} 
							({{item?.entity.registration_number}}-{{item?.entity.check_digit}}) / 
						</span>

						<span *ngIf="item?.entity == 'AD'">
							{{item?.entity.audit_firm_number}} / 
						</span>
					</div>

					<span *ngIf="item?.entity">
						{{item?.entity.name}}
					</span>
				</td>
				<td class="text-left">
					<span *ngIf="item?.product">
						{{item?.product.name}}
					</span>

					<span *ngIf="item?.product?.ctc">
						- CTC
					</span>

					<span *ngIf="item?.image_form_type != 'NA'">
						{{item?.image_form_type}}
					</span>
				</td>
				<td class="text-left">
					1
				</td>
				<td class="text-left">
					<span *ngIf="item?.product">
						{{item?.product.fee/100 | number: '1.2-2'}}
					</span>
				</td>
				<td class="text-left">
					<span *ngIf="item?.product">
						{{item?.product.fee/100 | number: '1.2-2'}}
					</span>
				</td>
			</tr>
		</tbody>
		<tfoot>
			<tr>
				<th class="text-right h4" colspan="5">Total</th>
				<th class="h4">{{cart.total_price_before_tax/100 | number: '1.2-2'}}</th>
			</tr>
		</tfoot>
	</table>
</div>

<ng-template #criteria>
    <div class="modal-header bg-default">
        <h6 class="modal-title text-white my-auto" id="modal-title-default">
            Search Criteria
        </h6>

        <button
            aria-label="Close"
            class="close"
            data-dismiss="modal"
            type="button"
            (click)="closeModal()"
        >
            <span aria-hidden="true" class="text-white my-auto"> × </span>
        </button>
    </div>

    <div class="modal-body">
        <form *ngIf="selectedCriteria">
            <div class="row">
				<div class="col">
					<div class="form-group">
						<label class="form-control-label">Incorp / Reg Date From</label>
						<input 
						  class="form-control"
						  [value]="selectedCriteria.IncorpFrom"
						  type="text"
						>
					</div>
				</div>

				<div class="col">
					<div class="form-group">
						<label class="form-control-label">Incorp / Reg Date To</label>
						<input 
						  class="form-control"
						  [value]="selectedCriteria.IncorpTo"
						  type="text"
						>
					</div>
				</div>
			</div>

            <div class="row">
				<div class="col">
					<div class="form-group">
						<label class="form-control-label">Company Status</label>
						<input 
						  class="form-control"
						  [value]="selectedCriteria.CompanyStatus"
						  type="text"
						>
					</div>
				</div>

				<div class="col">
					<div class="form-group">
						<label class="form-control-label">Company Type</label>
						<input 
						  class="form-control"
						  [value]="selectedCriteria.CompanyType"
						  type="text"
						>
					</div>
				</div>
			</div>

			<div class="form-group">
				<label class="form-control-label">Business Code</label>
				<input 
				  class="form-control"
				  [value]="selectedCriteria.BusinessCode"
				  type="text"
				>
			</div>

			<div class="row">
				<div class="col">
					<div class="form-group">
						<label class="form-control-label">Company Location</label>
						<input 
						  class="form-control"
						  [value]="selectedCriteria.CompanyLocation"
						  type="text"
						>
					</div>
				</div>

				<div class="col">
					<div class="form-group">
						<label class="form-control-label">Company Origin</label>
						<input 
						  class="form-control"
						  [value]="selectedCriteria.CompanyOrigin"
						  type="text"
						>
					</div>
				</div>
			</div>
        </form>
    </div>

    <div class="modal-footer">
        <button
            class="btn btn-outline-ssm ml-auto"
            data-dismiss="modal"
            type="button"
            (click)="closeModal()"
        >
            Close
        </button>
    </div>
</ng-template>